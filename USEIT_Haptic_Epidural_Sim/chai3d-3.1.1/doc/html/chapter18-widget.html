<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Widgets</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Overview</span></a></li>
      <li><a href="modules.html"><span>Documentation</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('chapter18-widget.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Widgets </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="section18-1"></a>
Introduction</h1>
<p>In CHAI3D widgets are the primary elements for displaying data and status information in 2D. Each camera contains a front and back layer on which can be attached widgets. When a camera scene is rendered, the 2D back layer is rendered first, followed by the 3D world, and finally the 2D front layer.</p>
<p>In the following section we review some of these basic widgets.</p>
<div class="image">
<img src="fig-widgets.png" alt="fig-widgets.png"/>
<div class="caption">
Widgets in CHAI3D</div></div>
<h1><a class="anchor" id="section18-2"></a>
Panel</h1>
<p>cPanel can be used put an empty panel on a window. Panels have properties for providing round corners, colors, and material texture properties. A panel is defined by its width and height can be placed anywhere in the viewport.</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacechai3d.html">chai3d</a>;</div><div class="line"></div><div class="line"><span class="comment">// create a panel</span></div><div class="line"><a class="code" href="classchai3d_1_1c_panel.html">cPanel</a>* panel = <span class="keyword">new</span> <a class="code" href="classchai3d_1_1c_panel.html">cPanel</a>();</div><div class="line"></div><div class="line"><span class="comment">// add panel to front layer of camera</span></div><div class="line">camera-&gt;m_frontLayer-&gt;addChild(panel);</div><div class="line"></div><div class="line"><span class="comment">// set width and height of panel</span></div><div class="line">panel-&gt;<a class="code" href="classchai3d_1_1c_panel.html#aa21e121221611f903c9fcd7723cdd920">setSize</a>(300, 200);</div><div class="line"></div><div class="line"><span class="comment">// assign radius of each corner of panel</span></div><div class="line">panel-&gt;<a class="code" href="classchai3d_1_1c_panel.html#aeb86620ce48cb2542cf5ac0086006e1e">setCornerRadius</a>(10, 10, 10, 10);</div><div class="line"></div><div class="line"><span class="comment">// assign a position (x,y) to panel</span></div><div class="line">panel-&gt;<a class="code" href="classchai3d_1_1c_generic_object.html#adb42d4013c69c3b76665fd98ea9dd15a">setLocalPos</a>(40, 60);</div><div class="line"></div><div class="line"><span class="comment">// set a uniform color to panel</span></div><div class="line">panel-&gt;<a class="code" href="classchai3d_1_1c_panel.html#a7f24eea6417f87c5ee7bf59a6c124f3b">setColor</a>(<a class="code" href="structchai3d_1_1c_colorf.html">cColorf</a>(1.0, 0.5, 0.5));</div><div class="line"></div><div class="line"><span class="comment">// assign a transparency level to panel</span></div><div class="line">panel-&gt;<a class="code" href="classchai3d_1_1c_panel.html#aef8348bf058b828b28aa92e39e10e2fe">setTransparencyLevel</a>(0.5);</div></div><!-- fragment --><h1><a class="anchor" id="section18-3"></a>
Bitmap</h1>
<p>An application can add a bitmap widget to its user interface to display an image. The image is displayed with its origin at the bottom-left corner of the widget's destination rectangle, and can be stretched along the X and Y axis.</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacechai3d.html">chai3d</a>;</div><div class="line"></div><div class="line"><span class="comment">// create bitmap object</span></div><div class="line"><a class="code" href="classchai3d_1_1c_bitmap.html">cBitmap</a>* bitmap = <span class="keyword">new</span> <a class="code" href="classchai3d_1_1c_bitmap.html">cBitmap</a>();</div><div class="line"></div><div class="line"><span class="comment">// add bitmap to front layer of camera</span></div><div class="line">camera-&gt;m_frontLayer-&gt;addChild(bitmap);</div><div class="line"></div><div class="line"><span class="comment">// load image file</span></div><div class="line">bitmap-&gt;<a class="code" href="classchai3d_1_1c_bitmap.html#a3195fa5351a004701215fe6098786158">loadFromFile</a>(<span class="stringliteral">&quot;myImage.png&quot;</span>);</div></div><!-- fragment --><h1><a class="anchor" id="section18-4"></a>
Background</h1>
<p>A background widget can be used to display an image that covers the entire display window.</p>
<div class="fragment"><div class="line"><span class="comment">// create a background object</span></div><div class="line">cBackground* background = <span class="keyword">new</span> cBackground();</div><div class="line"></div><div class="line"><span class="comment">// add background to back layer of camera</span></div><div class="line">camera-&gt;m_backLayer-&gt;addChild(background);</div><div class="line"></div><div class="line"><span class="comment">// set aspect ration of background image a constant</span></div><div class="line">background-&gt;setFixedAspectRatio(<span class="keyword">true</span>);</div><div class="line"></div><div class="line"><span class="comment">// load an image file</span></div><div class="line">background-&gt;loadFromFile(<span class="stringliteral">&quot;myImage.png&quot;</span>);</div></div><!-- fragment --><div class="image">
<img src="fig-widgets-background.png" alt="fig-widgets-background.png"/>
<div class="caption">
Example 05-fonts: A background image covers the entire windows.</div></div>
<h1><a class="anchor" id="section18-5"></a>
Level</h1>
<p>A Level is a linear gauge widget which is used to let users quickly understand where a value lies in a certain range. The level can be set horizontally or vertically.</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacechai3d.html">chai3d</a>;</div><div class="line"></div><div class="line"><span class="comment">// create dial object</span></div><div class="line">level = <span class="keyword">new</span> <a class="code" href="classchai3d_1_1c_level.html">cLevel</a>();</div><div class="line"></div><div class="line"><span class="comment">// add level to front layer of camera   </span></div><div class="line">camera-&gt;m_frontLayer-&gt;addChild(level);</div><div class="line"></div><div class="line"><span class="comment">// set range of values displayed by level</span></div><div class="line">level-&gt;setRange(0.0, 0.1);</div><div class="line"></div><div class="line"><span class="comment">// set size of level</span></div><div class="line">level-&gt;setSize(40);</div><div class="line"></div><div class="line"><span class="comment">// enable single line display option</span></div><div class="line">level-&gt;setSingleIncrementDisplay(<span class="keyword">true</span>);</div><div class="line"></div><div class="line"><span class="comment">// assign value to level</span></div><div class="line">level-&gt;setValue(value);</div></div><!-- fragment --><p>The Level can be set horizontally by rotating the widget of 90 degrees.</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacechai3d.html">chai3d</a>;</div><div class="line"></div><div class="line"><span class="comment">// rotate level of 90 degrees angle </span></div><div class="line">level-&gt;rotateWidgetDeg(90);</div></div><!-- fragment --><h1><a class="anchor" id="section18-6"></a>
Dial</h1>
<p>A dial offers similar capabilities than a level, but in a circular type display.</p>
<div class="image">
<img src="fig-widgets-dial.png" alt="fig-widgets-dial.png"/>
<div class="caption">
Dials: (Left) Continuous Display (Right) Single Increment Display</div></div>
 <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacechai3d.html">chai3d</a>;</div><div class="line"></div><div class="line"><span class="comment">// create dial object</span></div><div class="line">dial = <span class="keyword">new</span> <a class="code" href="classchai3d_1_1c_dial.html">cDial</a>();</div><div class="line"></div><div class="line"><span class="comment">// add dial to front layer of camera    </span></div><div class="line">camera-&gt;m_frontLayer-&gt;addChild(dial);</div><div class="line"></div><div class="line"><span class="comment">// set range of values displayed by dial</span></div><div class="line">dial-&gt;setRange(-0.1, 0.1);</div><div class="line"></div><div class="line"><span class="comment">// set size of dial</span></div><div class="line">dial-&gt;setSize(40);</div><div class="line"></div><div class="line"><span class="comment">// enable single line display option</span></div><div class="line">dial-&gt;setSingleIncrementDisplay(<span class="keyword">true</span>);</div><div class="line"></div><div class="line"><span class="comment">// assign value to dial</span></div><div class="line">dial-&gt;setValue(value);</div></div><!-- fragment --><h1><a class="anchor" id="section18-7"></a>
Scope</h1>
<p>An application can add a cScope widget to display up to four different signals similar to a digital oscilloscope.</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacechai3d.html">chai3d</a>;</div><div class="line"></div><div class="line"><span class="comment">// create a background object</span></div><div class="line">scope = <span class="keyword">new</span> <a class="code" href="classchai3d_1_1c_scope.html">cScope</a>();</div><div class="line"></div><div class="line"><span class="comment">// add scope to back layer of camera    </span></div><div class="line">camera-&gt;m_frontLayer-&gt;addChild(scope);</div><div class="line"></div><div class="line"><span class="comment">// assign a position (x,y) to panel</span></div><div class="line">scope-&gt;setLocalPos(100,60);</div><div class="line"></div><div class="line"><span class="comment">// set range of signal values (min / max)</span></div><div class="line">scope-&gt;setRange(-0.1, 0.1);</div><div class="line"></div><div class="line"><span class="comment">// enable signals for display</span></div><div class="line">scope-&gt;setSignalEnabled(<span class="keyword">true</span>, <span class="keyword">true</span>, <span class="keyword">true</span>, <span class="keyword">false</span>);</div><div class="line"></div><div class="line"><span class="comment">// assign a transparency level to scope</span></div><div class="line">scope-&gt;setTransparencyLevel(0.7);</div></div><!-- fragment --><p>Once the scope has been initialized, the signal values can be continuously updated with the following command:</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacechai3d.html">chai3d</a>;</div><div class="line"></div><div class="line"><span class="comment">// assign signal values</span></div><div class="line">scope-&gt;setSignalValues(value0, value1, value2, value3);</div></div><!-- fragment --><h1><a class="anchor" id="section18-8"></a>
Label</h1>
<p>A Label is a widget that is used add text in an application. For each label, a font is assigned. A font should always be created before instantiating a label and can be shared among many labels.</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacechai3d.html">chai3d</a>;</div><div class="line"></div><div class="line"><span class="comment">// create a font</span></div><div class="line"><a class="code" href="classchai3d_1_1c_font.html">cFont</a>* font = <a class="code" href="namespacechai3d.html#a67dfbd450324427828f325b2222ba406">NEW_CFONTCALIBRI20</a>();</div><div class="line"></div><div class="line"><span class="comment">// create a label</span></div><div class="line"><a class="code" href="classchai3d_1_1c_label.html">cLabel</a>* label = <span class="keyword">new</span> <a class="code" href="classchai3d_1_1c_label.html">cLabel</a>(font);</div><div class="line"></div><div class="line"><span class="comment">// add label to front layer of camera</span></div><div class="line">camera-&gt;m_frontLayer-&gt;addChild(label);</div><div class="line"></div><div class="line"><span class="comment">// assign color to label</span></div><div class="line">label-&gt;<a class="code" href="classchai3d_1_1c_label.html#a85a687c3ea5265d74eaf31012b670be8">m_fontColor</a>.<a class="code" href="structchai3d_1_1c_colorf.html#a2418efccad2fa90d92d626d441983c84">setBlack</a>();</div><div class="line"></div><div class="line"><span class="comment">// assign text to label</span></div><div class="line">label-&gt;<a class="code" href="classchai3d_1_1c_label.html#ac7e3e89c1b436a401518cf8a18d7c0ca">setText</a>(<span class="stringliteral">&quot;my message&quot;</span>);</div><div class="line"></div><div class="line"><span class="comment">// position widget on screen</span></div><div class="line">label-&gt;<a class="code" href="classchai3d_1_1c_generic_object.html#adb42d4013c69c3b76665fd98ea9dd15a">setLocalPos</a>(100, 120);</div></div><!-- fragment --><h1><a class="anchor" id="section18-9"></a>
Font</h1>
<p>CHAI3D supports the use of Bitmap fonts, which consist of a texture atlas containing all of the required letters from the font, and a text data file describing the location and size of each letter on that texture atlas.</p>
<p>A selection of fonts are encoded in the CHAI3D framework and can be instantiated with the following code. The full list of encoded fonts can be found in the <b>src/resources</b> directory.</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacechai3d.html">chai3d</a>;</div><div class="line"></div><div class="line"><span class="comment">// create a font (Calibri Size 20)</span></div><div class="line"><a class="code" href="classchai3d_1_1c_font.html">cFont</a>* font1 = <a class="code" href="namespacechai3d.html#a67dfbd450324427828f325b2222ba406">NEW_CFONTCALIBRI20</a>();</div><div class="line"></div><div class="line"><span class="comment">// create a font (Calibri Size 36)</span></div><div class="line"><a class="code" href="classchai3d_1_1c_font.html">cFont</a>* font2 = <a class="code" href="namespacechai3d.html#a5c1fa7b04643f7fa3baad859ec0ee8a5">NEW_CFONTCALIBRI36</a>();</div></div><!-- fragment --><p>A font can also be loaded using a font file generated by the application <b>BMFont</b> from AngelCode.</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacechai3d.html">chai3d</a>;</div><div class="line"></div><div class="line"><span class="comment">// create a font</span></div><div class="line"><a class="code" href="classchai3d_1_1c_font.html">cFont</a>* font = <span class="keyword">new</span> <a class="code" href="classchai3d_1_1c_font.html">cFont</a>();</div><div class="line"></div><div class="line"><span class="comment">// load font from file</span></div><div class="line">font-&gt;<a class="code" href="classchai3d_1_1c_font.html#a1aeee8a3479216317293feb981ec64b3">loadFromFile</a>(<span class="stringliteral">&quot;myFont.fnt&quot;</span>);</div></div><!-- fragment --><h1><a class="anchor" id="section18-10"></a>
Creating a Bitmap Font using BMFont</h1>
<h2><a class="anchor" id="subsection18-10-1"></a>
Step 1</h2>
<ul>
<li>Run <b>BMFont</b> and open <b>Options-&gt;Font Settings</b>.</li>
</ul>
<div class="image">
<img src="fig-font-step1.png" alt="fig-font-step1.png"/>
</div>
<h2><a class="anchor" id="subsection18-10-2"></a>
Step 2</h2>
<ul>
<li>Select your desired font from the list of installed fonts on your PC, or add a font file that you have on your harddrive.</li>
<li>Set the pixel size of the font and check <b>Match char height</b></li>
<li>Check <b>Font Smoothing</b> and <b>Super Sampling</b> if you want the letters to be smooth and anti-aliased.</li>
</ul>
<div class="image">
<img src="fig-font-step2.png" alt="fig-font-step2.png"/>
</div>
<h2><a class="anchor" id="subsection18-10-3"></a>
Step 3</h2>
<ul>
<li>Then back in the main tool window you'll see all the letters contained within your chosen font.</li>
<li>Highlight all the letters you wish to be contained in the font, either individually by toggling on/off each letter, or by toggling subsections of letters from the list on the right.</li>
</ul>
<div class="image">
<img src="fig-font-step3.png" alt="fig-font-step3.png"/>
</div>
<h2><a class="anchor" id="subsection18-10-4"></a>
Step 4</h2>
<ul>
<li>Next, open <b>Options-&gt;Export Options</b></li>
<li>Depending on your chosen font, and whether you're adding any after effects to the texture atlas, you may want to add some letter padding to prevent unintentional artifacts on the letters.</li>
<li>Set a Width and Height for the texture atlas. It needs to be big enough to fit all the letters onto one Texture. To check that it all fits on the chosen size, go back to the main window and press 'V' or go to <b>Options-&gt;Visualize</b>.</li>
<li>The best is to stick to power-2 dimensions for the atlas. e.g. 2,4,8,16,32,64,128,256,512 etc.</li>
<li>Check 32 <b>Bit depth</b> to allow alpha channel.</li>
<li>Check <b>Text</b> File Format, and <b>PNG</b> for the Texture format.</li>
</ul>
<div class="image">
<img src="fig-font-step4.png" alt="fig-font-step4.png"/>
</div>
<h2><a class="anchor" id="subsection18-10-5"></a>
Step 5</h2>
<ul>
<li>Select <b>Options-&gt;Save bitmap font as...</b></li>
<li>Save the Bitmap font to your CHAI3D resource folder.</li>
</ul>
<div class="image">
<img src="fig-font-step5.png" alt="fig-font-step5.png"/>
</div>
</div></div><!-- contents -->
</div><!-- doc-content -->
